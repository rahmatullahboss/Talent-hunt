module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},31689,a=>{a.n(a.i(88307))},69338,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Card() from the server but Card is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/card.tsx <module evaluation>","Card");a.s(["Card",0,b])},81338,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Card() from the server but Card is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/card.tsx","Card");a.s(["Card",0,b])},35330,a=>{"use strict";a.i(69338);var b=a.i(81338);a.n(b)},70444,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Badge() from the server but Badge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/badge.tsx <module evaluation>","Badge");a.s(["Badge",0,b])},93474,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Badge() from the server but Badge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/badge.tsx","Badge");a.s(["Badge",0,b])},19637,a=>{"use strict";a.i(70444);var b=a.i(93474);a.n(b)},790,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js <module evaluation>"))},84707,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(11857);a.n(d("[project]/node_modules/next/dist/client/app-dir/link.js"))},97647,a=>{"use strict";a.i(790);var b=a.i(84707);a.n(b)},95936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return i},useLinkStatus:function(){return h.useLinkStatus}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(64240),g=a.r(7997),h=f._(a.r(97647));function i(a){let b=a.legacyBehavior,c="string"==typeof a.children||"number"==typeof a.children||"string"==typeof a.children?.type,d=a.children?.type?.$$typeof===Symbol.for("react.client.reference");return!b||c||d||(a.children?.type?.$$typeof===Symbol.for("react.lazy")?console.error("Using a Lazy Component as a direct child of `<Link legacyBehavior>` from a Server Component is not supported. If you need legacyBehavior, wrap your Lazy Component in a Client Component that renders the Link's `<a>` tag."):console.error("Using a Server Component as a direct child of `<Link legacyBehavior>` is not supported. If you need legacyBehavior, wrap your Server Component in a Client Component that renders the Link's `<a>` tag.")),(0,g.jsx)(h.default,{...a})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},51750,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Button() from the server but Button is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/button.tsx <module evaluation>","Button");a.s(["Button",0,b])},82956,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Button() from the server but Button is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/button.tsx","Button");a.s(["Button",0,b])},38904,a=>{"use strict";a.i(51750);var b=a.i(82956);a.n(b)},1269,a=>{"use strict";var b=a.i(717);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],1269)},92737,a=>{"use strict";let b=(0,a.i(1269).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],92737)},45997,a=>{"use strict";let b=(0,a.i(1269).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);a.s(["Briefcase",()=>b],45997)},12336,a=>{"use strict";let b=(0,a.i(1269).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);a.s(["MessageCircle",()=>b],12336)},97127,a=>{"use strict";var b=a.i(7997),c=a.i(95936);a.i(70396);var d=a.i(73727),e=a.i(92737),f=a.i(45997),g=a.i(12336),h=a.i(1269);let i=(0,h.default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),j=(0,h.default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);var k=a.i(35330),l=a.i(19637),m=a.i(38904),n=a.i(58840),o=a.i(22028);async function p(a,b){if(!a)return{totalProposals:0,activeContracts:0,pendingReviews:0,walletBalance:0};let[c,d,e,f]=await Promise.all([a.prepare("SELECT COUNT(*) as count FROM proposals WHERE freelancer_id = ?").bind(b).first(),a.prepare("SELECT COUNT(*) as count FROM contracts WHERE freelancer_id = ? AND status IN ('active', 'submitted')").bind(b).first(),a.prepare("SELECT type, amount, status FROM wallet_transactions WHERE user_id = ? AND status IN ('pending', 'cleared')").bind(b).all(),a.prepare("SELECT COUNT(*) as count FROM contracts WHERE freelancer_id = ? AND status = 'completed'").bind(b).first()]),g=e.results?.reduce((a,b)=>a+("withdrawal"===b.type?-1:1)*Number(b.amount??0),0)??0;return{totalProposals:c?.count??0,activeContracts:d?.count??0,pendingReviews:f?.count??0,walletBalance:Math.max(g,0)}}async function q(a){return a?(await a.prepare("SELECT id, title, category, budget_mode, budget_min, budget_max, skills, created_at FROM jobs WHERE status = 'open' ORDER BY created_at DESC LIMIT 5").all()).results??[]:[]}async function r(a,b){return a?(await a.prepare(`
      SELECT p.id, p.status, p.bid_amount, p.bid_type, p.created_at, p.job_id, j.title as job_title, j.category as job_category
      FROM proposals p
      LEFT JOIN jobs j ON p.job_id = j.id
      WHERE p.freelancer_id = ?
      ORDER BY p.created_at DESC
      LIMIT 4
    `).bind(b).all()).results??[]:[]}async function s(){let a=await (0,n.getCurrentUser)();a?.profile||(0,d.redirect)("/signin");let h=(0,n.getDB)(),s=a.profile,[v,w,x]=await Promise.all([p(h,s.id),q(h),r(h,s.id)]);return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("header",{className:"flex flex-col gap-3",children:[(0,b.jsx)(l.Badge,{className:"w-fit bg-accent/20 text-accent",children:"Welcome back"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold text-foreground md:text-4xl",children:"Your freelance cockpit"}),(0,b.jsx)("p",{className:"mt-2 max-w-2xl text-base text-muted",children:"Track proposals, discover curated jobs, and manage your portfolio in one command centre."})]})]}),(0,b.jsxs)("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[(0,b.jsx)(t,{icon:(0,b.jsx)(f.Briefcase,{className:"h-6 w-6 text-accent"}),label:"Active proposals",value:v.totalProposals}),(0,b.jsx)(t,{icon:(0,b.jsx)(i,{className:"h-6 w-6 text-accent"}),label:"Contracts in progress",value:v.activeContracts}),(0,b.jsx)(t,{icon:(0,b.jsx)(g.MessageCircle,{className:"h-6 w-6 text-accent"}),label:"Pending reviews",value:v.pendingReviews}),(0,b.jsx)(t,{icon:(0,b.jsx)(j,{className:"h-6 w-6 text-accent"}),label:"Wallet balance (BDT)",value:v.walletBalance,currency:!0})]}),(0,b.jsxs)("section",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[(0,b.jsxs)(k.Card,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Recommended for you"}),(0,b.jsx)("p",{className:"text-sm text-muted",children:"Based on your skills and recent activity"})]}),(0,b.jsx)(m.Button,{asChild:!0,variant:"ghost",children:(0,b.jsxs)(c.default,{href:"/freelancer/jobs",children:["View all jobs",(0,b.jsx)(e.ArrowRight,{className:"ml-2 h-4 w-4"})]})})]}),(0,b.jsx)("div",{className:"space-y-4",children:0===w.length?(0,b.jsx)(u,{message:"Add more skills to your profile to receive tailored job suggestions."}):w.map(a=>{let d=(0,o.fromJsonArray)(a.skills);return(0,b.jsxs)(c.default,{href:`/freelancer/jobs/${a.id}`,className:"block rounded-[var(--radius-md)] border border-card-border/60 bg-card/60 p-5 transition hover:border-accent/40 hover:bg-accent/5",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:a.title}),(0,b.jsx)(l.Badge,{variant:"muted",children:a.category})]}),(0,b.jsxs)("p",{className:"mt-2 text-sm text-muted",children:["Budget ","fixed"===a.budget_mode?"৳":"$"," ",a.budget_min??"—"," - ",a.budget_max??"—"]}),(0,b.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:d.slice(0,5).map(a=>(0,b.jsx)(l.Badge,{variant:"outline",className:"border-accent/30 text-muted",children:a},a))})]},a.id)})})]}),(0,b.jsxs)(k.Card,{className:"flex flex-col justify-between gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Quick tips"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted",children:"Boost your win rate by polishing your profile."}),(0,b.jsxs)("ul",{className:"mt-4 space-y-3 text-sm text-muted",children:[(0,b.jsx)("li",{children:"• Refresh your portfolio with your latest outcomes."}),(0,b.jsx)("li",{children:"• Tailor each proposal with context about the client's goals."}),(0,b.jsx)("li",{children:"• Share your availability in proposals for quicker responses."})]})]}),(0,b.jsx)(m.Button,{asChild:!0,children:(0,b.jsx)(c.default,{href:"/freelancer/portfolio",children:"Update portfolio"})})]})]}),(0,b.jsxs)("section",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Recent proposals"}),(0,b.jsx)("p",{className:"text-sm text-muted",children:"Track client responses and follow up quickly."})]}),(0,b.jsx)(m.Button,{variant:"ghost",asChild:!0,children:(0,b.jsx)(c.default,{href:"/freelancer/proposals",children:"Manage proposals"})})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:0===x.length?(0,b.jsx)(k.Card,{className:"border-dashed text-sm text-muted",children:(0,b.jsx)("p",{children:"No proposals yet. Start pitching by exploring open jobs."})}):x.map(a=>(0,b.jsxs)(k.Card,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:a.job_title||"Job"}),(0,b.jsx)(l.Badge,{variant:"muted",children:a.status})]}),(0,b.jsxs)("p",{className:"text-sm text-muted",children:["Bid ","hourly"===a.bid_type?"$":"৳",a.bid_amount]}),(0,b.jsx)(m.Button,{asChild:!0,variant:"ghost",className:"w-full justify-start",children:(0,b.jsx)(c.default,{href:`/freelancer/jobs/${a.job_id}`,children:"View job"})})]},a.id))})]})]})}function t({icon:a,label:c,value:d,currency:e}){return(0,b.jsxs)(k.Card,{className:"space-y-2 border border-card-border/60 bg-card/70",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[a,(0,b.jsx)(l.Badge,{variant:"muted",children:c})]}),(0,b.jsx)("p",{className:"text-3xl font-semibold text-foreground",children:e?`৳${d.toLocaleString()}`:d}),(0,b.jsx)("p",{className:"text-xs uppercase tracking-wide text-muted",children:"Updated in real time"})]})}function u({message:a}){return(0,b.jsx)("div",{className:"rounded-[var(--radius-md)] border border-dashed border-card-border/70 bg-foreground/5 p-6 text-sm text-muted",children:a})}a.s(["default",()=>s],97127)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__86c5ef10._.js.map