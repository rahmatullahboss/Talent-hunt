module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},69338,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Card() from the server but Card is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/card.tsx <module evaluation>","Card");a.s(["Card",0,b])},81338,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Card() from the server but Card is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/card.tsx","Card");a.s(["Card",0,b])},35330,a=>{"use strict";a.i(69338);var b=a.i(81338);a.n(b)},70444,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Badge() from the server but Badge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/badge.tsx <module evaluation>","Badge");a.s(["Badge",0,b])},93474,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call Badge() from the server but Badge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/badge.tsx","Badge");a.s(["Badge",0,b])},19637,a=>{"use strict";a.i(70444);var b=a.i(93474);a.n(b)},76033,a=>{a.n(a.i(14354))},17688,a=>{"use strict";var b=a.i(7997);a.i(70396);var c=a.i(73727),d=a.i(58840),e=a.i(35330),f=a.i(19637);async function g(){let a=await (0,d.getCurrentUser)();a?.profile||(0,c.redirect)("/signin");let g=(0,d.getDB)();if(!g)return(0,b.jsx)("div",{children:"Database not available"});let[i,j,k,l,m]=await Promise.all([g.prepare("SELECT COUNT(*) as count FROM profiles").first(),g.prepare("SELECT COUNT(*) as count FROM profiles WHERE is_suspended = 1").first(),g.prepare("SELECT COUNT(*) as count FROM jobs WHERE status = 'open'").first(),g.prepare("SELECT COUNT(*) as count FROM disputes WHERE status IN ('open', 'under_review')").first(),g.prepare(`
      SELECT wr.id, wr.amount, wr.status, wr.created_at, wr.freelancer_id, p.full_name as freelancer_name
      FROM withdrawal_requests wr
      LEFT JOIN profiles p ON wr.freelancer_id = p.id
      WHERE wr.status IN ('pending', 'processing')
      ORDER BY wr.created_at DESC
      LIMIT 5
    `).all()]),n=i?.count??0,o=j?.count??0,p=k?.count??0,q=l?.count??0,r=m.results??[];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold text-foreground md:text-4xl",children:"Admin overview"}),(0,b.jsx)("p",{className:"text-sm text-muted",children:"Monitor platform health, payments, and disputes across TalentHunt BD."})]}),(0,b.jsxs)("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[(0,b.jsx)(h,{label:"Total users",value:n}),(0,b.jsx)(h,{label:"Suspended",value:o}),(0,b.jsx)(h,{label:"Open jobs",value:p}),(0,b.jsx)(h,{label:"Open disputes",value:q})]}),(0,b.jsxs)(e.Card,{className:"space-y-4 border border-card-border/70 bg-card/80 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Pending withdrawals"}),(0,b.jsx)(f.Badge,{variant:"muted",children:r.length})]}),0===r.length?(0,b.jsx)("p",{className:"text-sm text-muted",children:"No payout requests are waiting for review."}):(0,b.jsx)("div",{className:"grid gap-3",children:r.map(a=>(0,b.jsxs)(e.Card,{className:"flex items-center justify-between border border-card-border/70 bg-card/80 p-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold text-foreground",children:["à§³",Number(a.amount).toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted",children:a.freelancer_name||"Freelancer"})]}),(0,b.jsx)(f.Badge,{variant:"muted",children:a.status})]},a.id))})]})]})}function h({label:a,value:c}){return(0,b.jsxs)(e.Card,{className:"space-y-2 border border-card-border/70 bg-card/80 p-4",children:[(0,b.jsx)("p",{className:"text-xs uppercase text-muted",children:a}),(0,b.jsx)("p",{className:"text-3xl font-semibold text-foreground",children:c})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__206470d0._.js.map