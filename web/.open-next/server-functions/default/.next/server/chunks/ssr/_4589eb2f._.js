module.exports=[66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("input",{ref:e,className:(0,d.cn)("flex h-11 w-full rounded-[var(--radius-md)] border border-card-border bg-card px-4 text-foreground shadow-sm transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent placeholder:text-muted/60 disabled:cursor-not-allowed disabled:opacity-60",a),...c}));e.displayName="Input",a.s(["Input",0,e])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-[var(--radius-lg)] border border-card-border bg-card p-6 shadow-sm shadow-foreground/5",a),...c}));e.displayName="Card",a.s(["Card",0,e])},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=(0,c.forwardRef)(({className:a,...c},e)=>(0,b.jsx)("textarea",{ref:e,className:(0,d.cn)("flex min-h-[120px] w-full rounded-[var(--radius-md)] border border-card-border bg-card px-4 py-3 text-foreground shadow-sm transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent placeholder:text-muted/60 disabled:cursor-not-allowed disabled:opacity-60",a),...c}));e.displayName="Textarea",a.s(["Textarea",0,e])},54380,a=>{"use strict";function b(a){if(!a)return[];try{return JSON.parse(a)}catch{return[]}}a.s(["fromJsonArray",()=>b])},14860,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71987),e=a.i(23292),f=a.i(99570);function g({profile:a}){let[g,h]=(0,c.useState)(a.avatar_url),[i,j]=(0,c.useState)(!1),k=async b=>{let c=b.target.files?.[0];if(c){if(c.size>2097152)return void e.toast.error("Please upload an image smaller than 2MB.");try{j(!0);let b=new FormData;b.append("file",c),b.append("userId",a.id);let d=await fetch("/api/upload/avatar",{method:"POST",body:b});if(!d.ok)throw Error("Failed to upload avatar");let f=await d.json();h(f.url),e.toast.success("Profile photo updated.")}catch(b){let a=b instanceof Error?b.message:"Failed to upload avatar.";e.toast.error(a)}finally{j(!1)}}};return(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"relative h-20 w-20 overflow-hidden rounded-full border border-card-border bg-foreground/5",children:g?(0,b.jsx)(d.default,{src:g,alt:a.full_name,fill:!0,className:"object-cover"}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center text-sm text-muted",children:"No photo"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{type:"file",accept:"image/*",id:"avatar",className:"hidden",onChange:k}),(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>document.getElementById("avatar")?.click(),loading:i,children:"Upload photo"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-muted",children:"Recommended: square image, under 2MB."})]})]})}a.s(["AvatarUploader",()=>g])},71937,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(35112),e=a.i(23292),f=a.i(5050),g=(0,f.createServerReference)("6095f93d157cc36a9233b4a6ec275ee2f15c74ee9f",f.callServer,void 0,f.findSourceMapURL,"updateFreelancerProfileAction"),h=a.i(66718),i=a.i(29246),j=a.i(99570),k=a.i(54380);let l={status:"idle"};function m({profile:a}){let[f,m]=(0,d.useFormState)(g,l),[n,o]=(0,c.useTransition)(),p=(0,k.fromJsonArray)(a.skills);return(0,c.useEffect)(()=>{"error"===f.status&&f.message?e.toast.error(f.message):"success"===f.status&&f.message&&e.toast.success(f.message)},[f]),(0,b.jsxs)("form",{className:"space-y-4",action:a=>{o(()=>m(a))},children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"fullName",children:"Full name"}),(0,b.jsx)(h.Input,{id:"fullName",name:"fullName",defaultValue:a.full_name,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"title",children:"Professional headline"}),(0,b.jsx)(h.Input,{id:"title",name:"title",defaultValue:a.title??"",placeholder:"Senior React engineer",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"location",children:"Location"}),(0,b.jsx)(h.Input,{id:"location",name:"location",defaultValue:a.location??"",placeholder:"Chattogram, Bangladesh",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"hourlyRate",children:"Hourly rate (USD)"}),(0,b.jsx)(h.Input,{id:"hourlyRate",name:"hourlyRate",type:"number",min:0,step:"1",defaultValue:a.hourly_rate??void 0,placeholder:"30"})]})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"bio",children:"Bio"}),(0,b.jsx)(i.Textarea,{id:"bio",name:"bio",rows:6,defaultValue:a.bio??"",placeholder:"Summarize your experience, domains you specialise in, and the results you help clients achieve.",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"skills",children:"Skills (comma separated)"}),(0,b.jsx)(h.Input,{id:"skills",name:"skills",defaultValue:p.join(", "),placeholder:"React, Tailwind, GraphQL",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"website",children:"Portfolio or personal website (optional)"}),(0,b.jsx)(h.Input,{id:"website",name:"website",defaultValue:a.website??"",placeholder:"https://yourportfolio.com"})]}),(0,b.jsx)(j.Button,{type:"submit",loading:n,children:"Save profile"})]})}a.s(["FreelancerProfileForm",()=>m],71937)}];

//# sourceMappingURL=_4589eb2f._.js.map