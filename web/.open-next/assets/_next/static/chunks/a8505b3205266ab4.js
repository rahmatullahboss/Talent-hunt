(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93479,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let s=(0,t.forwardRef)(({className:e,...t},s)=>(0,a.jsx)("input",{ref:s,className:(0,r.cn)("flex h-11 w-full rounded-[var(--radius-md)] border border-card-border bg-card px-4 text-foreground shadow-sm transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent placeholder:text-muted/60 disabled:cursor-not-allowed disabled:opacity-60",e),...t}));s.displayName="Input",e.s(["Input",0,s])},15288,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let s=(0,t.forwardRef)(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-[var(--radius-lg)] border border-card-border bg-card p-6 shadow-sm shadow-foreground/5",e),...t}));s.displayName="Card",e.s(["Card",0,s])},95187,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={callServer:function(){return l.callServer},createServerReference:function(){return o.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}};for(var s in r)Object.defineProperty(t,s,{enumerable:!0,get:r[s]});let l=e.r(32120),i=e.r(92245),o=e.r(35326)},24687,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(75157);let s=(0,t.forwardRef)(({className:e,...t},s)=>(0,a.jsx)("textarea",{ref:s,className:(0,r.cn)("flex min-h-[120px] w-full rounded-[var(--radius-md)] border border-card-border bg-card px-4 py-3 text-foreground shadow-sm transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent placeholder:text-muted/60 disabled:cursor-not-allowed disabled:opacity-60",e),...t}));s.displayName="Textarea",e.s(["Textarea",0,s])},54113,e=>{"use strict";function a(e){if(!e)return[];try{return JSON.parse(e)}catch{return[]}}e.s(["fromJsonArray",()=>a])},10180,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(57688),s=e.i(46696),l=e.i(19455);function i({profile:e}){let[i,o]=(0,t.useState)(e.avatar_url),[d,c]=(0,t.useState)(!1),n=async a=>{let t=a.target.files?.[0];if(t){if(t.size>2097152)return void s.toast.error("Please upload an image smaller than 2MB.");try{c(!0);let a=new FormData;a.append("file",t),a.append("userId",e.id);let r=await fetch("/api/upload/avatar",{method:"POST",body:a});if(!r.ok)throw Error("Failed to upload avatar");let l=await r.json();o(l.url),s.toast.success("Profile photo updated.")}catch(a){let e=a instanceof Error?a.message:"Failed to upload avatar.";s.toast.error(e)}finally{c(!1)}}};return(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"relative h-20 w-20 overflow-hidden rounded-full border border-card-border bg-foreground/5",children:i?(0,a.jsx)(r.default,{src:i,alt:e.full_name,fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"flex h-full items-center justify-center text-sm text-muted",children:"No photo"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"file",accept:"image/*",id:"avatar",className:"hidden",onChange:n}),(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>document.getElementById("avatar")?.click(),loading:d,children:"Upload photo"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-muted",children:"Recommended: square image, under 2MB."})]})]})}e.s(["AvatarUploader",()=>i])},2109,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(74080),s=e.i(46696),l=e.i(95187),i=(0,l.createServerReference)("6095f93d157cc36a9233b4a6ec275ee2f15c74ee9f",l.callServer,void 0,l.findSourceMapURL,"updateFreelancerProfileAction"),o=e.i(93479),d=e.i(24687),c=e.i(19455),n=e.i(54113);let u={status:"idle"};function m({profile:e}){let[l,m]=(0,r.useFormState)(i,u),[f,p]=(0,t.useTransition)(),h=(0,n.fromJsonArray)(e.skills);return(0,t.useEffect)(()=>{"error"===l.status&&l.message?s.toast.error(l.message):"success"===l.status&&l.message&&s.toast.success(l.message)},[l]),(0,a.jsxs)("form",{className:"space-y-4",action:e=>{p(()=>m(e))},children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"fullName",children:"Full name"}),(0,a.jsx)(o.Input,{id:"fullName",name:"fullName",defaultValue:e.full_name,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"title",children:"Professional headline"}),(0,a.jsx)(o.Input,{id:"title",name:"title",defaultValue:e.title??"",placeholder:"Senior React engineer",required:!0})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"location",children:"Location"}),(0,a.jsx)(o.Input,{id:"location",name:"location",defaultValue:e.location??"",placeholder:"Chattogram, Bangladesh",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"hourlyRate",children:"Hourly rate (USD)"}),(0,a.jsx)(o.Input,{id:"hourlyRate",name:"hourlyRate",type:"number",min:0,step:"1",defaultValue:e.hourly_rate??void 0,placeholder:"30"})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"bio",children:"Bio"}),(0,a.jsx)(d.Textarea,{id:"bio",name:"bio",rows:6,defaultValue:e.bio??"",placeholder:"Summarize your experience, domains you specialise in, and the results you help clients achieve.",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"skills",children:"Skills (comma separated)"}),(0,a.jsx)(o.Input,{id:"skills",name:"skills",defaultValue:h.join(", "),placeholder:"React, Tailwind, GraphQL",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted",htmlFor:"website",children:"Portfolio or personal website (optional)"}),(0,a.jsx)(o.Input,{id:"website",name:"website",defaultValue:e.website??"",placeholder:"https://yourportfolio.com"})]}),(0,a.jsx)(c.Button,{type:"submit",loading:f,children:"Save profile"})]})}e.s(["FreelancerProfileForm",()=>m],2109)}]);