(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93479,s=>{"use strict";var e=s.i(43476),r=s.i(71645),o=s.i(75157);let a=(0,r.forwardRef)(({className:s,...r},a)=>(0,e.jsx)("input",{ref:a,className:(0,o.cn)("flex h-11 w-full rounded-[var(--radius-md)] border border-card-border bg-card px-4 text-foreground shadow-sm transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent placeholder:text-muted/60 disabled:cursor-not-allowed disabled:opacity-60",s),...r}));a.displayName="Input",s.s(["Input",0,a])},19772,s=>{"use strict";var e=s.i(43476),r=s.i(71645),o=s.i(18566),a=s.i(53145),t=s.i(81307),d=s.i(94814),i=s.i(46696),l=s.i(93479),n=s.i(19455);let c=t.z.object({password:t.z.string().min(8,"Password must be at least 8 characters"),confirmPassword:t.z.string().min(8)}).superRefine((s,e)=>{s.password!==s.confirmPassword&&e.addIssue({code:"custom",message:"Passwords do not match",path:["confirmPassword"]})});function p(){let s=(0,o.useRouter)(),[t,p]=(0,r.useState)(!1),{register:u,handleSubmit:m,formState:{errors:w}}=(0,a.useForm)({resolver:(0,d.zodResolver)(c)}),f=async e=>{p(!0);try{let r=await fetch("/api/auth/update-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e.password})});if(!r.ok){let s=await r.json();throw Error(s.error||"Failed to update password")}i.toast.success("Password updated. You can now log in with your new credentials."),s.push("/signin")}catch(e){let s=e instanceof Error?e.message:"Failed to update password";i.toast.error(s)}finally{p(!1)}};return(0,e.jsxs)("form",{className:"space-y-5",onSubmit:m(f),children:[(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-muted",htmlFor:"password",children:"New password"}),(0,e.jsx)(l.Input,{id:"password",type:"password",placeholder:"Enter a strong password",...u("password")}),w.password?(0,e.jsx)("p",{className:"text-sm text-red-500",children:w.password.message}):null]}),(0,e.jsxs)("div",{className:"space-y-1.5",children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-muted",htmlFor:"confirmPassword",children:"Confirm new password"}),(0,e.jsx)(l.Input,{id:"confirmPassword",type:"password",placeholder:"Confirm the password",...u("confirmPassword")}),w.confirmPassword?(0,e.jsx)("p",{className:"text-sm text-red-500",children:w.confirmPassword.message}):null]}),(0,e.jsx)(n.Button,{type:"submit",className:"w-full",loading:t,children:"Update password"})]})}s.s(["UpdatePasswordForm",()=>p])}]);